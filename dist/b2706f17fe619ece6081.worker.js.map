{"version":3,"sources":["webpack:///b2706f17fe619ece6081.worker.js","webpack:///webpack/bootstrap b2706f17fe619ece6081","webpack:///./src/worker.js","webpack:///./src/utils.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","messageData","buffer","data","data1","data2","average1","average2","width","height","delta","sensitivity","_utils","logger_1","createOnceLog","createDiffBuffer","messageEvent","i","Uint32Array","y","x","polarize","abs","onmessage","Object","defineProperty","value","counter","_console","console","log","apply","arguments","$","selector","document","querySelector","round","number","threshold"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,IAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GAE/B,YE9CD,IAIIW,GACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAdJC,EAAAtB,EAAA,GAEMuB,GAAW,EAAAD,EAAAE,iBAcXC,EAAmB,SAACC,GACxB,GAAIC,EACJJ,GAASG,GACTf,EAAce,EAAab,KAC3BD,EAASD,EAAYC,OACrBE,EAAQH,EAAYG,MACpBC,EAAQJ,EAAYI,MACpBG,EAAQP,EAAYO,MACpBC,EAASR,EAAYQ,OACrBE,EAAcV,EAAYU,YAC1BR,EAAO,GAAIe,aAAYhB,EACvB,KAAK,GAAIiB,GAAI,EAAGA,EAAIV,IAAUU,EAC5B,IAAK,GAAIC,GAAI,EAAGA,EAAIZ,IAASY,EAC3BH,EAAIE,EAAIX,EAAQY,EAChBd,GAAaF,EAAQ,EAAFa,GAAOb,EAAQ,EAAFa,EAAI,GAAKb,EAAQ,EAAFa,EAAI,IAAM,EAAK,EAC9DV,GAAaF,EAAQ,EAAFY,GAAOZ,EAAQ,EAAFY,EAAI,GAAKZ,EAAQ,EAAFY,EAAI,IAAM,EAAK,EAC9DP,GAAQ,EAAAE,EAAAS,WACN,EAAAT,EAAAU,KAAIhB,EAAWC,GAAW,IAG5BJ,EAAKc,GACF,KAAS,GACTP,GAAS,GACTA,GAAU,EACVA,CAIPG,GAASX,GAIXqB,WAAYR,GFgDN,SAASrB,EAAQD,GAEtB,YAEA+B,QAAOC,eAAehC,EAAS,cAC7BiC,OAAO,GG/FGZ,iBAAgB,WAC3B,GAAIa,GAAU,CACd,OAAO,YACL,GAAGA,EAAU,EAAG,IAAAC,IACdA,EAAAC,SAAQC,IAARC,MAAAH,EAAeI,WAEjBL,MAQSM,IAAI,SAACC,GAAD,MAAcC,UAASC,cAAcF,IAMzCG,QAAQ,SAACC,GAAD,MAAaA,GAAS,IAAO,GAGrChB,MAAM,SAACI,GAAD,OAAYA,EAASA,GAAS,KAAQA,GAAS,KAOrDL,WAAW,SAACK,EAAOa,GAAR,MAAuBb,GAAQa,EAAa,SAAW","file":"b2706f17fe619ece6081.worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar logger_1 = (0, _utils.createOnceLog)();\n\t\n\tvar messageData;\n\tvar buffer;\n\tvar data;\n\tvar data1;\n\tvar data2;\n\tvar average1;\n\tvar average2;\n\tvar width;\n\tvar height;\n\tvar delta;\n\tvar sensitivity;\n\t\n\tvar createDiffBuffer = function createDiffBuffer(messageEvent) {\n\t  var i;\n\t  logger_1(messageEvent);\n\t  messageData = messageEvent.data;\n\t  buffer = messageData.buffer;\n\t  data1 = messageData.data1;\n\t  data2 = messageData.data2;\n\t  width = messageData.width;\n\t  height = messageData.height;\n\t  sensitivity = messageData.sensitivity;\n\t  data = new Uint32Array(buffer);\n\t  for (var y = 0; y < height; ++y) {\n\t    for (var x = 0; x < width; ++x) {\n\t      i = y * width + x;\n\t      average1 = (data1[i * 4] + data1[i * 4 + 1] + data1[i * 4 + 2]) / 3 / 1;\n\t      average2 = (data2[i * 4] + data2[i * 4 + 1] + data2[i * 4 + 2]) / 3 / 1;\n\t      delta = (0, _utils.polarize)((0, _utils.abs)(average1 - average2), 0x15);\n\t\n\t      data[i] = 255 << 24 | // alpha\n\t      delta << 16 | // blue\n\t      delta << 8 | // green\n\t      delta; // red\n\t    }\n\t  }\n\t\n\t  logger_1(buffer);\n\t};\n\t\n\tonmessage = createDiffBuffer;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/* eslint-disable no-console */\n\t\n\t/*\n\t  utility function to log only once\n\t  useful for logging in loops\n\t*/\n\tvar createOnceLog = exports.createOnceLog = function createOnceLog() {\n\t  var counter = 0;\n\t  return function onceLog() {\n\t    if (counter < 1) {\n\t      var _console;\n\t\n\t      (_console = console).log.apply(_console, arguments);\n\t    }\n\t    counter++;\n\t  };\n\t};\n\t\n\t/*\n\t  utility function for getting DOM references\n\t  return DOM Object\n\t*/\n\tvar $ = exports.$ = function $(selector) {\n\t  return document.querySelector(selector);\n\t};\n\t\n\t/*\n\t  bitwise Math.round\n\t  returns number\n\t*/\n\tvar round = exports.round = function round(number) {\n\t  return number + .5 >> 0;\n\t};\n\t\n\tvar abs = exports.abs = function abs(value) {\n\t  return (value ^ value >> 31) - (value >> 31);\n\t};\n\t\n\t/*\n\t  polarize pixel values based on value and threshold\n\t  returns 0 or 0XFF\n\t*/\n\tvar polarize = exports.polarize = function polarize(value, threshold) {\n\t  return value > threshold ? 0xFF0033 : 0XFF;\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// b2706f17fe619ece6081.worker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b2706f17fe619ece6081","import { abs, polarize, createOnceLog } from './utils';\n\nconst logger_1 = createOnceLog();\n\nvar messageData;\nvar buffer;\nvar data;\nvar data1;\nvar data2;\nvar average1;\nvar average2;\nvar width;\nvar height;\nvar delta;\nvar sensitivity;\n\nconst createDiffBuffer = (messageEvent) => {\n  var i;\n  logger_1(messageEvent);\n  messageData = messageEvent.data;\n  buffer = messageData.buffer;\n  data1 = messageData.data1;\n  data2 = messageData.data2;\n  width = messageData.width;\n  height = messageData.height;\n  sensitivity = messageData.sensitivity;\n  data = new Uint32Array(buffer);\n  for (var y = 0; y < height; ++y) {\n    for (var x = 0; x < width; ++x) {\n      i = y * width + x\n      average1 = ((data1[i*4] + data1[i*4+1] + data1[i*4+2]) / 3) / 1;\n      average2 = ((data2[i*4] + data2[i*4+1] + data2[i*4+2]) / 3) / 1;\n      delta = polarize(\n        abs(average1 - average2), 0x15\n      );\n\n      data[i] =\n        (255   << 24) |    // alpha\n        (delta << 16) |    // blue\n        (delta <<  8) |    // green\n         delta;           // red\n    }\n  }\n\n  logger_1(buffer);\n\n};\n\nonmessage = createDiffBuffer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/worker.js","/* eslint-disable no-console */\n\n/*\n  utility function to log only once\n  useful for logging in loops\n*/\nexport const createOnceLog = () => {\n  let counter = 0;\n  return function onceLog() {\n    if(counter < 1) {\n      console.log(...arguments);\n    }\n    counter ++;\n  }\n}\n\n/*\n  utility function for getting DOM references\n  return DOM Object\n*/\nexport const $ = (selector) => document.querySelector(selector);\n\n/*\n  bitwise Math.round\n  returns number\n*/\nexport const round = (number) => (number + .5) >> 0;\n\n\nexport const abs = (value) => (value ^ (value >> 31)) - (value >> 31);\n\n\n/*\n  polarize pixel values based on value and threshold\n  returns 0 or 0XFF\n*/\nexport const polarize = (value, threshold) => (value > threshold) ? 0xFF0033 : 0XFF;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}